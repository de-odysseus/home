<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <title>Tower of Hanoi</title>

        <!--links bootstrap-->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" 
        crossorigin="anonymous"/>

        <script language="javascript">

            var stacks = [[3, 2 ,1], [], []];
            var inHand = [];
            var element;
            var id = "id";

            function checkStack(stack){

                if (inHand.length == 0){
                    if (stacks[stack].length == 0){
                        alert("Invalid move! No stones available!");
                    }
                    else {
                        id = "id" + stack.toString() + (stacks[stack].length - 1).toString();
                        element = document.getElementById(id);
                        element.innerHTML = "　";
                        element = document.getElementById("inHand");
                        element.innerHTML = "***".substr(0, (stacks[stack][stacks[stack].length -1 ]));
                        pickUpStone(stack);
                        checkGame();
                    }
                }

                else if (inHand.length != 0){
                    if (stacks[stack][(stacks[stack].length)-1] < inHand[0]) {
                        alert("Invalid move! Can't stack big stone on small stone!")
                    }
                    else {
                        id = "id" + stack.toString() + (stacks[stack].length).toString();
                        element = document.getElementById(id);
                        element.innerHTML = "***".substr(0, inHand[0]);
                        element = document.getElementById("inHand");
                        element.innerHTML = "　";
                        dropStone(stack);
                        checkGame();
                    }
                }
            }

            function pickUpStone(stack){
                inHand.push(stacks[stack].pop());
            }

            function dropStone(stack){
                stacks[stack].push(inHand.pop());
            }

            function checkGame(){
                if (stacks[2].length == 3) {
                    alert("You've won! Refresh to play again.")
                }
            }
            
        </script>

        <style>
            h1 {
                text-align: center;
            }

            h2 {
                padding: 10px;
            }
        </style>

    </head>

    <body>
        <div class="container-fluid">
            <div class = row>
                    <div class="col-sm-4">
                        <div class="well" id="well1">
                            <h1 id="id02">*</h1>
                            <h1 id="id01">**</h1>
                            <h1 id="id00">***</h1>
                            <h1 id="id03">----------</h1>
                        </div>
                        <input type="button" value="Move" onclick=checkStack(0);>
                    </div>
                    <div class="col-sm-4">
                        <div class="well" id="well2">
                            <h1 id="id12">　</h1>
                            <h1 id="id11">　</h1>
                            <h1 id="id10">　</h1>
                            <h1 id="id13">----------</h1>
                        </div>
                        <input type="button" value="Move" onclick=checkStack(1);>
                    </div>
                    <div class="col-sm-4">
                        <div class="well" id="well3">
                            <h1 id="id22">　</h1>
                            <h1 id="id21">　</h1>
                            <h1 id="id20">　</h1>
                            <h1 id="id23">----------</h1>
                        </div>
                        <input type="button" value="Move" onclick=checkStack(2);>
                    </div>
                </div>
            </div>
            <h2>In hand:</h2>
            <h2 id="inHand">　</h2>
        </div>
    </body>

</html>